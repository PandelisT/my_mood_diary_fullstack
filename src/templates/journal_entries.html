<!-- templates/journal_entries.html -->

{% extends "base.html" %}

{% block content %}
<h1  class="title is-2 is-spaced"> Journal entries</h1>
<div class="has-text-justified">
    <p>
    Thoughts, emotions and behaviours are all intertwined whereby negative thoughts can trigger negative behaviours. A more holistic approach is usually implemented by tracking these three areas i.e. negative thoughts, general mood ratings and problem behaviours.
    </p>
    <br>
    <p>
    Tracking mood, thoughts and behaviours has been shown to increase insight, motivation and willingness to change. Skills are designed at the individual level to replace the negative moods, thoughts and behaviours. 
    </p>
    <br>
    </div>
<form method="POST" action="/journal/new_entry">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="field">
        <div class="control">
            <textarea class="textarea" name="journal_entry" placeholder="Add journal entry"></textarea>
        </div>
    </div>
    <button class="button is-block is-info is-large">Add entry</button>
</form>




{% for journal_entry in journal_entries %}
<div class="box">
<div class="columns has-text-left">
    <div class="column has-text-link">
        <a href="{{  url_for('journal.get_journal_entry', journal_id=journal_entry.id) }}">
            {{ journal_entry.journal_entry }}
        </a>
    </div>
    <div class="column">
             Date of entry:
             {{ journal_entry.journal_date.strftime('%d-%m-%Y') }}
        </div>
        <div class="column">
            Time of entry:
            {{ journal_entry.journal_date.strftime('%H:%m  %p') }}
       </div>
    <div class="column">
        <form action="{{ url_for('journal.delete_journal_entry', journal_id=journal_entry.id) }}" method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <input class="button is-block is-info is-medium box has-text-centered" type=submit value=Delete>
        </form>
    </div>
  </div>
</div>
{% else %}
<div class="mgt-medium">
<div class="notification is-danger">
    <p>No problem areas recorded</p>
</div>
</div>
  {% endfor %}


{% endblock %}


